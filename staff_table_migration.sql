-- Staff table migration
-- This creates a comprehensive staff table based on the CSV data structure

CREATE TABLE IF NOT EXISTS `tbl_staff` (
  `id_staff` int(11) NOT NULL AUTO_INCREMENT,
  `staff_name` varchar(255) NOT NULL,
  `initial_name` varchar(100) NULL,
  `nik` varchar(20) NOT NULL UNIQUE,
  `section_name` varchar(255) NULL,
  `department_name` varchar(255) NULL,
  `dept_name` varchar(50) NULL,
  `no_hp` varchar(20) NULL,
  `email` varchar(255) NULL,
  `status` int(1) DEFAULT 1 COMMENT '1=active, 0=inactive',
  `position` varchar(255) NULL,
  `photo` varchar(255) NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_staff`),
  UNIQUE KEY `idx_staff_nik` (`nik`),
  KEY `idx_staff_dept` (`dept_name`),
  KEY `idx_staff_section` (`section_name`),
  KEY `idx_staff_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Insert sample data from the CSV
INSERT INTO `tbl_staff` (`staff_name`, `initial_name`, `nik`, `section_name`, `department_name`, `dept_name`, `no_hp`, `email`, `status`, `position`, `photo`) VALUES
('Abednego L. Simamora', NULL, '17000823', 'Research And Development', 'Analytical Laboratory', 'LABO', '81221233728', NULL, 1, NULL, NULL),
('Achmad Wahyu S.', NULL, '93000033', 'Phytopathology', 'Crop Protection', 'CROP', '81365417208', 'achmad.w.sulistyanto@sinarmas-agri.com', 1, NULL, 'ACHMAD'),
('Adfal Afdala', '', '23000389', 'Big Data, AI, and Digitalization', 'Data Intelligence and Analytics', 'DIAD', '82372607516', NULL, 1, NULL, NULL),
('Adin Afiyata', '', '13001639', 'Clonal Selection and Evaluation', 'Plant Breeding', 'BREED', '81327320380', NULL, 1, NULL, NULL),
('Aditya Fajar Kurniawan', '', '23000433', 'Sub Station FOESD', 'Field Operation and Extension Services', 'FOES', '82199042639', NULL, 1, NULL, NULL),
('Agus Dwi Prasetyo', '', '22000503', 'Sub Station FOESD', 'Field Operation and Extension Services', 'FOES', '81271289574', NULL, 1, NULL, NULL),
('Aldi Putra Guntara', '', '17000118', 'Sub Station FOESD', 'Field Operation and Extension Services', 'FOES', '81286994927', 'asst.research.sbye@sinarmas-agri.com', 1, NULL, NULL),
('Alif Saifudin', NULL, '14000749', 'Sub Station FOESD', 'Field Operation and Extension Services', 'FOES', '82169997154', NULL, 1, NULL, NULL),
('Anak Agung K. A', NULL, '12000894', 'Ecological Services', 'Sustainability Research', 'SUST', '82284636300', 'sect.head.ecological.services.libz@sinarmas-agri.com', 1, NULL, 'ANAK'),
('Andreas Dwi Advento', NULL, '9000518', 'Pest and Entomology', 'Crop Protection', 'CROP', '81380666194', NULL, 1, NULL, NULL),
('Andria Rezki', NULL, '20000748', 'Biometry and Database', 'Data Intelligence and Analytics', 'DIAD', '81376434343', NULL, 1, NULL, 'ANDRIA'),
('Anhar Jhony Murtono', NULL, '12001810', 'Sub Station FOESD', 'Field Operation and Extension Services', 'FOES', '82323415636', NULL, 1, NULL, NULL),
('Anisa Putri', NULL, '21000087', 'Research And Development', 'Analytical Laboratory', 'LABO', '8118681802', NULL, 1, NULL, 'ANISA'),
('Arnolly S. Ardi', 'ASA', '10000291', 'Clonal Selection and Evaluation', 'Plant Breeding', 'BREED', '82283968121', NULL, 1, NULL, 'ARNOLLY'),
('Bayu Septiwibowo', NULL, '10002115', 'Carbon and Water Accounting', 'Sustainability Research', 'SUST', '82170705550', NULL, 1, NULL, 'BAYU'),
('Bram Hadiwijaya', NULL, '10000107', 'Sustainability Research', 'Sustainability Research', 'SUST', '81268696928', 'bram.hadiwijaya@sinarmas-agri.com', 1, 'Dept Head', 'BRAM'),
('Chyntia Novanti', NULL, '21000490', 'Field Operation and Extension Services', 'Field Operation and Extension Services', 'FOES', '85219225991', NULL, 1, NULL, 'CHYNTIA'),
('Deni Reflianto Manik', NULL, '15001623', 'Main Station Laboratory', 'Analytical Laboratory', 'LABO', '85265917679', NULL, 1, NULL, NULL),
('Dias Kandias', NULL, '14001338', 'Main Station Laboratory', 'Analytical Laboratory', 'LABO', '81261295117', NULL, 1, NULL, NULL),
('Divo Dharma Silalahi', NULL, '9000720', 'Data Intelligence and Analytics', 'Data Intelligence and Analytics', 'DIAD', '85211916330', 'divo.d.silalahi@sinarmas-agri.com', 1, 'Dept Head', 'DIVO'),
('Doni Artanto R', NULL, '8000775', 'Agrophysiology', 'Agronomy', 'AGRO', '81265127307', NULL, 1, NULL, 'DONI'),
('Egyfaldi Biamenta', NULL, '14001388', 'Main Station Laboratory', 'Analytical Laboratory', 'LABO', '81361524034', NULL, 1, NULL, NULL),
('Eka Lupitasari', NULL, '23000795', 'Soil Fertility', 'Agronomy', 'AGRO', '81371067583', NULL, 1, NULL, NULL),
('Elfrin Nisa Azmi', NULL, '21000396', 'Field Operation and Extension Services', 'Field Operation and Extension Services', 'FOES', '82217661865', NULL, 1, NULL, 'ELFRIN'),
('Fadil Wirawan', NULL, '11000120', 'Sub Station FOESD', 'Field Operation and Extension Services', 'FOES', '82363260008', 'asst.research.bnge@sinarmas-agri.com', 1, NULL, NULL),
('Fahri Arief Siregar', NULL, '97000328', 'Agrophysiology', 'Agronomy', 'AGRO', '81371602304', 'fahri.a.siregar@sinarmas-agri.com', 1, NULL, 'FAHRI'),
('Fahron Nawawi', NULL, '11000135', 'Sub Station FOESD', 'Field Operation and Extension Services', 'FOES', '81338260441', NULL, 1, NULL, NULL),
('Fahry Faqiha', NULL, '16001058', 'Sub Station FOESD', 'Field Operation and Extension Services', 'FOES', '82272251586', 'koordinator.research.field3.bame@sinarmas-agri.com', 1, NULL, NULL),
('Felia Rizky Aulia', NULL, '23000082', 'Climatology', 'Data Intelligence and Analytics', 'DIAD', '81519786690', NULL, 1, NULL, NULL),
('Muhammad Arrafi', NULL, '24001714', 'Geographical and Information System', 'Data Intelligence and Analytics', 'DIAD', '8981960303', NULL, 1, 'Sect Head', NULL),
('Fitriani', NULL, '6000767', 'Main Station Laboratory', 'Analytical Laboratory', 'LABO', '81378728949', NULL, 1, NULL, NULL),
('Giono', NULL, '7000389', 'Phytopathology', 'Crop Protection', 'CROP', '85277741720', NULL, 1, NULL, NULL),
('Hardianang Sapto Akbar', NULL, '20000483', 'General Affairs', 'General Affairs', 'ADMI', '81249929383', 'ktu.libz@sinarmas-agri.com', 1, NULL, NULL),
('Hartono', NULL, '97000047', 'Field Operation and Extension Services', 'Field Operation and Extension Services', 'FOES', '81367077601', 'hartono.smartri@sinarmas-agri.com', 1, 'Dept Head', 'HARTONO'),
('Hasbullah', NULL, '17000116', 'Mineral Nutrition and Management', 'Agronomy', 'AGRO', '81999265941', NULL, 1, NULL, 'Hasbullah'),
('Hermawani Girsang', NULL, '5000643', 'Sub Station Laboratory', 'Analytical Laboratory', 'LABO', '85271186088', 'lab.smse@sinarmas-agri.com', 1, NULL, NULL),
('Ikrar Nusantara Putra', NULL, '14001219', 'Life Cycle Analysis', 'Sustainability Research', 'SUST', '85279685169', NULL, 1, NULL, NULL),
('J.P. Caliman', NULL, '7001064', 'Division Head', 'Division Head', 'Division Head', '811757638', 'j.p.caliman@sinarmas-agri.com', 1, 'Div Head', 'JPC'),
('M Alpian', NULL, '96000443', 'Sub Station FOESD', 'Field Operation and Extension Services', 'FOES', '81349208226', NULL, 1, NULL, NULL),
('Maria Prasasti D', NULL, '8000406', 'Mineral Nutrition and Management', 'Agronomy', 'AGRO', '81378750770', NULL, 1, NULL, NULL),
('Medi Darminto', NULL, '96000191', 'Task Force', 'Task Force', 'TASK', '81366804771', 'sect.head.task.force.libz@sinarmas-agri.com', 1, 'Dept Head', NULL),
('Mohd. Naim', NULL, '4000364', 'Crop Protection', 'Crop Protection', 'CROP', '81277410930', 'mohammad.naim@sinarmas-agri.com', 1, NULL, NULL),
('Muhammad Fajriansyah', NULL, '8000900', 'Sub Station Laboratory', 'Analytical Laboratory', 'LABO', '81251664123', NULL, 1, NULL, NULL),
('Nidia Mindiyarti', NULL, '23000285', 'Biometry and Database', 'Data Intelligence and Analytics', 'DIAD', '81277870761', NULL, 1, NULL, NULL),
('Pramusita Yoga Daniswara', NULL, '15003651', 'Field Operation and Extension Services', 'Field Operation and Extension Services', 'FOES', '82138128476', NULL, 1, NULL, NULL),
('Pujianto', NULL, '98000214', 'Agronomy', 'Agronomy', 'AGRO', '81268897334', 'pujianto.libz@sinarmas-agri.com', 1, 'Dept Head', 'PUJIANTO'),
('Putri Aulia Wahyuningsih', NULL, '13000522', 'Biometry and Database', 'Data Intelligence and Analytics', 'DIAD', '85265776599', NULL, 1, 'Sect Head', 'PUTRI'),
('Reni Subawati K', NULL, '3000285', 'Agrophysiology', 'Agronomy', 'AGRO', '81329298393', NULL, 1, NULL, 'RENI'),
('Ribka Sionita Tarigan', NULL, '7001151', 'Pollution Risk Control', 'Sustainability Research', 'SUST', '82172465191', NULL, 1, NULL, NULL),
('Rita Marlina', NULL, '90000083', 'Quality Control', 'Quality Control', 'LABO', '85355352882', NULL, 1, NULL, 'RITA'),
('Rizki Anjal Puji Nugroho', NULL, '19001435', 'Breeding and Selection', 'Plant Breeding', 'BREED', '81280035869', NULL, 1, NULL, NULL),
('Rudy Harto Widodo', NULL, '8000405', 'Sub Station FOESD Liberia', 'Field Operation and Extension Services', 'FOES', '', NULL, 1, NULL, NULL),
('Rudy Lukman', NULL, '22001670', 'Plant Breeding', 'Plant Breeding', 'BREED', '8117571951', NULL, 1, 'Dept Head', NULL),
('Rus Eva Manurung', NULL, '2000199', 'Staff to Division Head', 'Staff to Division Head', 'SECRETARY', '8127631185', 'rudy.lukman@sinarmas-agri.com', 1, 'Staff to Div Head', 'RUS'),
('Rusmita', NULL, '18000148', 'Biometry and Database', 'Data Intelligence and Analytics', 'DIAD', '82180901232', NULL, 1, NULL, 'RUSMITA'),
('Samsul Muarif', NULL, '23000353', 'Field Operation and Extension Services', 'Field Operation and Extension Services', 'FOES', '85280339464', NULL, 1, NULL, NULL),
('Sari\'a Maimuna', NULL, '12002292', 'Sub Station FOESD', 'Field Operation and Extension Services', 'FOES', '85267397807', NULL, 1, NULL, NULL),
('Sri Imriani Pulungan', NULL, '19000950', 'Molecular Assisted Breeding', 'Plant Breeding', 'BREED', '82213810893', NULL, 1, NULL, 'SRI'),
('Sri Listyaningsih', NULL, '8001065', 'Mineral Nutrition and Management', 'Agronomy', 'AGRO', '81275499235', NULL, 1, NULL, NULL),
('Suhardi', NULL, '7001020', 'Soil Fertility', 'Agronomy', 'AGRO', '81322652911', NULL, 1, NULL, NULL),
('Syahrul Efendi S', NULL, '4000384', 'Sub Station Laboratory', 'Analytical Laboratory', 'LABO', '81350460844', 'lab.bame@sinarmas-agri.com', 1, NULL, NULL),
('Syaiful Fahmi', NULL, '21000989', 'Pest and Entomology', 'Crop Protection', 'CROP', '82178897331', NULL, 1, NULL, NULL),
('Tauvik Risman', NULL, '99000463', 'Main Station Laboratory', 'Analytical Laboratory', 'LABO', '8127649791', 'sect.head.analytical.lab.libz@sinarmas-agri.com', 1, NULL, NULL),
('Tuani Dzulfikar S. R', NULL, '9000796', 'Weed Control', 'Crop Protection', 'CROP', '81268899289', NULL, 1, NULL, 'TUANI'),
('Widura Bintang Samudra', NULL, '19001558', 'Sub Station FOESD', 'Field Operation and Extension Services', 'FOES', '82337425123', NULL, 1, NULL, NULL),
('Wiro Naibaho', NULL, '19002199', 'Sub Station Laboratory', 'Analytical Laboratory', 'LABO', '85375818344', 'wiro.naibaho@sinarmas-agri.com', 1, NULL, NULL),
('Yendra Pratama Setiawan', NULL, '17002062', 'Pest and Entomology', 'Crop Protection', 'CROP', '82249255480', NULL, 1, NULL, NULL),
('Yudi Yustira', NULL, '20001262', 'Sub Station Laboratory', 'Analytical Laboratory', 'LABO', '82252120907', NULL, 1, NULL, NULL),
('Zikril Illahi', NULL, '17000126', 'Clonal Selection and Evaluation', 'Plant Breeding', 'BREED', '88261833133', NULL, 1, NULL, NULL);

-- Check if data was inserted
SELECT COUNT(*) as total_staff FROM tbl_staff;
SELECT DISTINCT dept_name FROM tbl_staff WHERE dept_name IS NOT NULL ORDER BY dept_name;