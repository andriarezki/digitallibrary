import{j as e,a as t,k as n,A as r,u as o,P as a,f as s,d as i,w as l,x as d,y as c,F as u,D as f,C as p,m as h,b as m,z as v,E as y,g as b,G as x}from"./ui-DM3Dsx1x.js";import{r as g}from"./vendor-C1mj56OW.js";import{c as j,f as w,g as _,u as N,B as k,U as M,F as D,e as C}from"./index-gAofG3DC.js";import{I as P}from"./input-BWzlW1-9.js";import{L as O}from"./label-DS1RxWzO.js";import{C as S,b as F,c as E,d as L,a as R}from"./card-N8uJmbSa.js";import{t as I,c as A,a as W,s as B,d as q,g as T,m as Y,e as H,h as z,i as K,j as U,k as Z,l as $,n as G,f as J,o as V,A as Q,b as X}from"./format-BLvlu-GI.js";import{S as ee,a as te,b as ne,c as re,d as oe}from"./select-1He4EU54.js";import{u as ae}from"./centered-notification-Bm8OzNBk.js";import"./pdf-QG3cfAWJ.js";import"./query-DVbHB3bz.js";import"./charts-CWC3ycSS.js";import"./circle-check-big-CW-HGMI4.js";import"./circle-alert-CiRyCPvy.js";
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=j("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),ie=j("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),le=j("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),de=j("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ce=j("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ue=j("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function fe(e,t){const n=I(e);if(isNaN(t))return A(e,NaN);if(!t)return n;const r=n.getDate(),o=A(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);return r>=o.getDate()?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}function pe(e,t){return W(e,7*t)}function he(e,t){return fe(e,12*t)}function me(e,t){return+B(e)===+B(t)}function ve(e,t){const n=I(e),r=I(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}function ye(e){const t=I(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function be(e){const t=I(e);return t.setDate(1),t.setHours(0,0,0,0),t}function xe(e,t){var n,r,o,a;const s=H(),i=(null==t?void 0:t.weekStartsOn)??(null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.weekStartsOn)??s.weekStartsOn??(null==(a=null==(o=s.locale)?void 0:o.options)?void 0:a.weekStartsOn)??0,l=I(e),d=l.getDay(),c=6+(d<i?-7:0)-(d-i);return l.setDate(l.getDate()+c),l.setHours(23,59,59,999),l}function ge(e){return xe(e,{weekStartsOn:1})}function je(e,t){return function(e,t,n){const r=q(e,n),o=q(t,n),a=+r-T(r),s=+o-T(o);return Math.round((a-s)/Y)}(function(e){const t=I(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}(e),be(e),t)+1}function we(e,t){const n=I(e),r=I(t);return n.getTime()>r.getTime()}function _e(e,t){return+I(e)<+I(t)}function Ne(e,t){const n=I(e),r=I(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function ke(e,t){return W(e,-t)}function Me(e,t){const n=I(e),r=n.getFullYear(),o=n.getDate(),a=A(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const s=function(e){const t=I(e),n=t.getFullYear(),r=t.getMonth(),o=A(e,0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}(a);return n.setMonth(t,Math.min(o,s)),n}function De(e,t){const n=I(e);return isNaN(+n)?A(e,NaN):(n.setFullYear(t),n)}const Ce=g.forwardRef(({className:t,...n},r)=>e.jsx("textarea",{className:w("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ce.displayName="Textarea";var Pe=function(){return Pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pe.apply(this,arguments)};function Oe(e,t,n){for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Se(e){return"multiple"===e.mode}function Fe(e){return"range"===e.mode}function Ee(e){return"single"===e.mode}"function"==typeof SuppressedError&&SuppressedError;var Le={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};var Re=Object.freeze({__proto__:null,formatCaption:function(e,t){return J(e,"LLLL y",t)},formatDay:function(e,t){return J(e,"d",t)},formatMonthCaption:function(e,t){return J(e,"LLLL",t)},formatWeekNumber:function(e){return"".concat(e)},formatWeekdayName:function(e,t){return J(e,"cccccc",t)},formatYearCaption:function(e,t){return J(e,"yyyy",t)}}),Ie=Object.freeze({__proto__:null,labelDay:function(e,t,n){return J(e,"do MMMM (EEEE)",n)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(e){return"Week n. ".concat(e)},labelWeekday:function(e,t){return J(e,"cccc",t)},labelYearDropdown:function(){return"Year: "}});var Ae=g.createContext(void 0);function We(t){var n,r,o=t.initialProps,a={captionLayout:"buttons",classNames:Le,formatters:Re,labels:Ie,locale:K,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"},s=function(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,o=e.toMonth,a=e.fromDate,s=e.toDate;return r?a=be(r):t&&(a=new Date(t,0,1)),o?s=ye(o):n&&(s=new Date(n,11,31)),{fromDate:a?B(a):void 0,toDate:s?B(s):void 0}}(o),i=s.fromDate,l=s.toDate,d=null!==(n=o.captionLayout)&&void 0!==n?n:a.captionLayout;"buttons"===d||i&&l||(d="buttons"),(Ee(o)||Se(o)||Fe(o))&&(r=o.onSelect);var c=Pe(Pe(Pe({},a),o),{captionLayout:d,classNames:Pe(Pe({},a.classNames),o.classNames),components:Pe({},o.components),formatters:Pe(Pe({},a.formatters),o.formatters),fromDate:i,labels:Pe(Pe({},a.labels),o.labels),mode:o.mode||a.mode,modifiers:Pe(Pe({},a.modifiers),o.modifiers),modifiersClassNames:Pe(Pe({},a.modifiersClassNames),o.modifiersClassNames),onSelect:r,styles:Pe(Pe({},a.styles),o.styles),toDate:l});return e.jsx(Ae.Provider,{value:c,children:t.children})}function Be(){var e=g.useContext(Ae);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function qe(t){var n=Be(),r=n.locale,o=n.classNames,a=n.styles,s=n.formatters.formatCaption;return e.jsx("div",{className:o.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:r})})}function Te(t){return e.jsx("svg",Pe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ye(t){var n,r,o=t.onChange,a=t.value,s=t.children,i=t.caption,l=t.className,d=t.style,c=Be(),u=null!==(r=null===(n=c.components)||void 0===n?void 0:n.IconDropdown)&&void 0!==r?r:Te;return e.jsxs("div",{className:l,style:d,children:[e.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:a,onChange:o,children:s}),e.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[i,e.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function He(t){var n,r=Be(),o=r.fromDate,a=r.toDate,s=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,d=r.classNames,c=r.components,u=r.labels.labelMonthDropdown;if(!o)return e.jsx(e.Fragment,{});if(!a)return e.jsx(e.Fragment,{});var f=[];if(function(e,t){const n=I(e),r=I(t);return n.getFullYear()===r.getFullYear()}(o,a))for(var p=be(o),h=o.getMonth();h<=a.getMonth();h++)f.push(Me(p,h));else for(p=be(new Date),h=0;h<=11;h++)f.push(Me(p,h));var m=null!==(n=null==c?void 0:c.Dropdown)&&void 0!==n?n:Ye;return e.jsx(m,{name:"months","aria-label":u(),className:d.dropdown_month,style:s.dropdown_month,onChange:function(e){var n=Number(e.target.value),r=Me(be(t.displayMonth),n);t.onChange(r)},value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:i}),children:f.map(function(t){return e.jsx("option",{value:t.getMonth(),children:l(t,{locale:i})},t.getMonth())})})}function ze(t){var n,r=t.displayMonth,o=Be(),a=o.fromDate,s=o.toDate,i=o.locale,l=o.styles,d=o.classNames,c=o.components,u=o.formatters.formatYearCaption,f=o.labels.labelYearDropdown,p=[];if(!a)return e.jsx(e.Fragment,{});if(!s)return e.jsx(e.Fragment,{});for(var h=a.getFullYear(),m=s.getFullYear(),v=h;v<=m;v++)p.push(De(U(new Date),v));var y=null!==(n=null==c?void 0:c.Dropdown)&&void 0!==n?n:Ye;return e.jsx(y,{name:"years","aria-label":f(),className:d.dropdown_year,style:l.dropdown_year,onChange:function(e){var n=De(be(r),Number(e.target.value));t.onChange(n)},value:r.getFullYear(),caption:u(r,{locale:i}),children:p.map(function(t){return e.jsx("option",{value:t.getFullYear(),children:u(t,{locale:i})},t.getFullYear())})})}function Ke(){var e=Be(),t=function(e){var t=e.month,n=e.defaultMonth,r=e.today,o=t||n||r||new Date,a=e.toDate,s=e.fromDate,i=e.numberOfMonths,l=void 0===i?1:i;return a&&ve(a,o)<0&&(o=fe(a,-1*(l-1))),s&&ve(o,s)<0&&(o=s),be(o)}(e),n=function(e,t){var n=g.useState(e),r=n[0];return[void 0===t?r:t,n[1]]}(t,e.month),r=n[0],o=n[1];return[r,function(t){var n;if(!e.disableNavigation){var r=be(t);o(r),null===(n=e.onMonthChange)||void 0===n||n.call(e,r)}}]}var Ue=g.createContext(void 0);function Ze(t){var n=Be(),r=Ke(),o=r[0],a=r[1],s=function(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,o=be(e),a=ve(be(fe(o,r)),o),s=[],i=0;i<a;i++){var l=fe(o,i);s.push(l)}return n&&(s=s.reverse()),s}(o,n),i=function(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,o=t.numberOfMonths,a=void 0===o?1:o,s=r?a:1,i=be(e);if(!n)return fe(i,s);if(!(ve(n,e)<a))return fe(i,s)}}(o,n),l=function(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,o=t.numberOfMonths,a=r?void 0===o?1:o:1,s=be(e);if(!n)return fe(s,-a);if(!(ve(s,n)<=0))return fe(s,-a)}}(o,n),d=function(e){return s.some(function(t){return Ne(e,t)})},c={currentMonth:o,displayMonths:s,goToMonth:a,goToDate:function(e,t){d(e)||(t&&_e(e,t)?a(fe(e,1+-1*n.numberOfMonths)):a(e))},previousMonth:l,nextMonth:i,isDateDisplayed:d};return e.jsx(Ue.Provider,{value:c,children:t.children})}function $e(){var e=g.useContext(Ue);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Ge(t){var n,r=Be(),o=r.classNames,a=r.styles,s=r.components,i=$e().goToMonth,l=function(e){i(fe(e,t.displayIndex?-t.displayIndex:0))},d=null!==(n=null==s?void 0:s.CaptionLabel)&&void 0!==n?n:qe,c=e.jsx(d,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:o.caption_dropdowns,style:a.caption_dropdowns,children:[e.jsx("div",{className:o.vhidden,children:c}),e.jsx(He,{onChange:l,displayMonth:t.displayMonth}),e.jsx(ze,{onChange:l,displayMonth:t.displayMonth})]})}function Je(t){return e.jsx("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ve(t){return e.jsx("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Qe=g.forwardRef(function(t,n){var r=Be(),o=r.classNames,a=r.styles,s=[o.button_reset,o.button];t.className&&s.push(t.className);var i=s.join(" "),l=Pe(Pe({},a.button_reset),a.button);return t.style&&Object.assign(l,t.style),e.jsx("button",Pe({},t,{ref:n,type:"button",className:i,style:l}))});function Xe(t){var n,r,o=Be(),a=o.dir,s=o.locale,i=o.classNames,l=o.styles,d=o.labels,c=d.labelPrevious,u=d.labelNext,f=o.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var p=c(t.previousMonth,{locale:s}),h=[i.nav_button,i.nav_button_previous].join(" "),m=u(t.nextMonth,{locale:s}),v=[i.nav_button,i.nav_button_next].join(" "),y=null!==(n=null==f?void 0:f.IconRight)&&void 0!==n?n:Ve,b=null!==(r=null==f?void 0:f.IconLeft)&&void 0!==r?r:Je;return e.jsxs("div",{className:i.nav,style:l.nav,children:[!t.hidePrevious&&e.jsx(Qe,{name:"previous-month","aria-label":p,className:h,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:"rtl"===a?e.jsx(y,{className:i.nav_icon,style:l.nav_icon}):e.jsx(b,{className:i.nav_icon,style:l.nav_icon})}),!t.hideNext&&e.jsx(Qe,{name:"next-month","aria-label":m,className:v,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:"rtl"===a?e.jsx(b,{className:i.nav_icon,style:l.nav_icon}):e.jsx(y,{className:i.nav_icon,style:l.nav_icon})})]})}function et(t){var n=Be().numberOfMonths,r=$e(),o=r.previousMonth,a=r.nextMonth,s=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(e){return Ne(t.displayMonth,e)}),d=0===l,c=l===i.length-1,u=n>1&&(d||!c),f=n>1&&(c||!d);return e.jsx(Xe,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:o,onPreviousClick:function(){o&&s(o)},onNextClick:function(){a&&s(a)}})}function tt(t){var n,r,o=Be(),a=o.classNames,s=o.disableNavigation,i=o.styles,l=o.captionLayout,d=o.components,c=null!==(n=null==d?void 0:d.CaptionLabel)&&void 0!==n?n:qe;return r=s?e.jsx(c,{id:t.id,displayMonth:t.displayMonth}):"dropdown"===l?e.jsx(Ge,{displayMonth:t.displayMonth,id:t.id}):"dropdown-buttons"===l?e.jsxs(e.Fragment,{children:[e.jsx(Ge,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(et,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(et,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:a.caption,style:i.caption,children:r})}function nt(t){var n=Be(),r=n.footer,o=n.styles,a=n.classNames.tfoot;return r?e.jsx("tfoot",{className:a,style:o.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:r})})}):e.jsx(e.Fragment,{})}function rt(){var t=Be(),n=t.classNames,r=t.styles,o=t.showWeekNumber,a=t.locale,s=t.weekStartsOn,i=t.ISOWeek,l=t.formatters.formatWeekdayName,d=t.labels.labelWeekday,c=function(e,t,n){for(var r=n?Z(new Date):q(new Date,{locale:e,weekStartsOn:t}),o=[],a=0;a<7;a++){var s=W(r,a);o.push(s)}return o}(a,s,i);return e.jsxs("tr",{style:r.head_row,className:n.head_row,children:[o&&e.jsx("td",{style:r.head_cell,className:n.head_cell}),c.map(function(t,o){return e.jsx("th",{scope:"col",className:n.head_cell,style:r.head_cell,"aria-label":d(t,{locale:a}),children:l(t,{locale:a})},o)})]})}function ot(){var t,n=Be(),r=n.classNames,o=n.styles,a=n.components,s=null!==(t=null==a?void 0:a.HeadRow)&&void 0!==t?t:rt;return e.jsx("thead",{style:o.head,className:r.head,children:e.jsx(s,{})})}function at(t){var n=Be(),r=n.locale,o=n.formatters.formatDay;return e.jsx(e.Fragment,{children:o(t.date,{locale:r})})}var st=g.createContext(void 0);function it(t){if(!Se(t.initialProps)){return e.jsx(st.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:t.children})}return e.jsx(lt,{initialProps:t.initialProps,children:t.children})}function lt(t){var n=t.initialProps,r=t.children,o=n.selected,a=n.min,s=n.max,i={disabled:[]};o&&i.disabled.push(function(e){var t=s&&o.length>s-1,n=o.some(function(t){return me(t,e)});return Boolean(t&&!n)});var l={selected:o,onDayClick:function(e,t,r){var i,l;if((null===(i=n.onDayClick)||void 0===i||i.call(n,e,t,r),!Boolean(t.selected&&a&&(null==o?void 0:o.length)===a))&&!Boolean(!t.selected&&s&&(null==o?void 0:o.length)===s)){var d=o?Oe([],o):[];if(t.selected){var c=d.findIndex(function(t){return me(e,t)});d.splice(c,1)}else d.push(e);null===(l=n.onSelect)||void 0===l||l.call(n,d,e,t,r)}},modifiers:i};return e.jsx(st.Provider,{value:l,children:r})}function dt(){var e=g.useContext(st);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}var ct,ut,ft=g.createContext(void 0);function pt(t){if(!Fe(t.initialProps)){return e.jsx(ft.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:t.children})}return e.jsx(ht,{initialProps:t.initialProps,children:t.children})}function ht(t){var n=t.initialProps,r=t.children,o=n.selected,a=o||{},s=a.from,i=a.to,l=n.min,d=n.max,c={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(c.range_start=[s],i?(c.range_end=[i],me(s,i)||(c.range_middle=[{after:s,before:i}])):c.range_end=[s]):i&&(c.range_start=[i],c.range_end=[i]),l&&(s&&!i&&c.disabled.push({after:ke(s,l-1),before:W(s,l-1)}),s&&i&&c.disabled.push({after:s,before:W(s,l-1)}),!s&&i&&c.disabled.push({after:ke(i,l-1),before:W(i,l-1)})),d){if(s&&!i&&(c.disabled.push({before:W(s,1-d)}),c.disabled.push({after:W(s,d-1)})),s&&i){var u=d-(z(i,s)+1);c.disabled.push({before:ke(s,u)}),c.disabled.push({after:W(i,u)})}!s&&i&&(c.disabled.push({before:W(i,1-d)}),c.disabled.push({after:W(i,d-1)}))}return e.jsx(ft.Provider,{value:{selected:o,onDayClick:function(e,t,r){var a,s;null===(a=n.onDayClick)||void 0===a||a.call(n,e,t,r);var i=function(e,t){var n=t||{},r=n.from,o=n.to;if(r&&o){if(me(o,e)&&me(r,e))return;if(me(o,e))return{from:o,to:void 0};if(me(r,e))return;return we(r,e)?{from:e,to:o}:{from:r,to:e}}return o?we(e,o)?{from:o,to:e}:{from:e,to:o}:r?_e(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}(e,o);null===(s=n.onSelect)||void 0===s||s.call(n,i,e,t,r)},modifiers:c},children:r})}function mt(){var e=g.useContext(ft);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function vt(e){return Array.isArray(e)?Oe([],e):void 0!==e?[e]:[]}(ut=ct||(ct={})).Outside="outside",ut.Disabled="disabled",ut.Selected="selected",ut.Hidden="hidden",ut.Today="today",ut.RangeStart="range_start",ut.RangeEnd="range_end",ut.RangeMiddle="range_middle";var yt=ct.Selected,bt=ct.Disabled,xt=ct.Hidden,gt=ct.Today,jt=ct.RangeEnd,wt=ct.RangeMiddle,_t=ct.RangeStart,Nt=ct.Outside;var kt=g.createContext(void 0);function Mt(t){var n=Be(),r=function(e,t,n){var r,o=((r={})[yt]=vt(e.selected),r[bt]=vt(e.disabled),r[xt]=vt(e.hidden),r[gt]=[e.today],r[jt]=[],r[wt]=[],r[_t]=[],r[Nt]=[],r);return e.fromDate&&o[bt].push({before:e.fromDate}),e.toDate&&o[bt].push({after:e.toDate}),Se(e)?o[bt]=o[bt].concat(t.modifiers[bt]):Fe(e)&&(o[bt]=o[bt].concat(n.modifiers[bt]),o[_t]=n.modifiers[_t],o[wt]=n.modifiers[wt],o[jt]=n.modifiers[jt]),o}(n,dt(),mt()),o=function(e){var t={};return Object.entries(e).forEach(function(e){var n=e[0],r=e[1];t[n]=vt(r)}),t}(n.modifiers),a=Pe(Pe({},r),o);return e.jsx(kt.Provider,{value:a,children:t.children})}function Dt(){var e=g.useContext(kt);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Ct(e,t){return t.some(function(t){if("boolean"==typeof t)return t;if(V(t))return me(e,t);var n,r,o,a,s;if(function(e){return Array.isArray(e)&&e.every(V)}(t))return t.includes(e);if(function(e){return Boolean(e&&"object"==typeof e&&"from"in e)}(t))return n=e,a=(r=t).from,s=r.to,a&&s?(z(s,a)<0&&(a=(o=[s,a])[0],s=o[1]),z(n,a)>=0&&z(s,n)>=0):s?me(s,n):!!a&&me(a,n);if(function(e){return Boolean(e&&"object"==typeof e&&"dayOfWeek"in e)}(t))return t.dayOfWeek.includes(e.getDay());if(function(e){return Boolean(e&&"object"==typeof e&&"before"in e&&"after"in e)}(t)){var i=z(t.before,e)>0,l=z(t.after,e)<0;return we(t.before,t.after)?l&&i:i||l}return function(e){return Boolean(e&&"object"==typeof e&&"after"in e)}(t)?z(e,t.after)>0:function(e){return Boolean(e&&"object"==typeof e&&"before"in e)}(t)?z(t.before,e)>0:"function"==typeof t&&t(e)})}function Pt(e,t,n){var r=Object.keys(t).reduce(function(n,r){var o=t[r];return Ct(e,o)&&n.push(r),n},[]),o={};return r.forEach(function(e){return o[e]=!0}),n&&!Ne(e,n)&&(o.outside=!0),o}function Ot(e,t){var n=t.moveBy,r=t.direction,o=t.context,a=t.modifiers,s=t.retry,i=void 0===s?{count:0,lastFocused:e}:s,l=o.weekStartsOn,d=o.fromDate,c=o.toDate,u=o.locale,f={day:W,week:pe,month:fe,year:he,startOfWeek:function(e){return o.ISOWeek?Z(e):q(e,{locale:u,weekStartsOn:l})},endOfWeek:function(e){return o.ISOWeek?ge(e):xe(e,{locale:u,weekStartsOn:l})}}[n](e,"after"===r?1:-1);"before"===r&&d?f=function(e){let t;return e.forEach(function(e){const n=I(e);(void 0===t||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}([d,f]):"after"===r&&c&&(f=function(e){let t;return e.forEach(e=>{const n=I(e);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}([c,f]));var p=!0;if(a){var h=Pt(f,a);p=!h.disabled&&!h.hidden}return p?f:i.count>365?i.lastFocused:Ot(f,{moveBy:n,direction:r,context:o,modifiers:a,retry:Pe(Pe({},i),{count:i.count+1})})}var St=g.createContext(void 0);function Ft(t){var n=$e(),r=Dt(),o=g.useState(),a=o[0],s=o[1],i=g.useState(),l=i[0],d=i[1],c=function(e,t){for(var n,r,o=be(e[0]),a=ye(e[e.length-1]),s=o;s<=a;){var i=Pt(s,t);if(i.disabled||i.hidden)s=W(s,1);else{if(i.selected)return s;i.today&&!r&&(r=s),n||(n=s),s=W(s,1)}}return r||n}(n.displayMonths,r),u=(null!=a?a:l&&n.isDateDisplayed(l))?l:c,f=function(e){s(e)},p=Be(),h=function(e,t){if(a){var o=Ot(a,{moveBy:e,direction:t,context:p,modifiers:r});me(a,o)||(n.goToDate(o,a),f(o))}},m={focusedDay:a,focusTarget:u,blur:function(){d(a),s(void 0)},focus:f,focusDayAfter:function(){return h("day","after")},focusDayBefore:function(){return h("day","before")},focusWeekAfter:function(){return h("week","after")},focusWeekBefore:function(){return h("week","before")},focusMonthBefore:function(){return h("month","before")},focusMonthAfter:function(){return h("month","after")},focusYearBefore:function(){return h("year","before")},focusYearAfter:function(){return h("year","after")},focusStartOfWeek:function(){return h("startOfWeek","before")},focusEndOfWeek:function(){return h("endOfWeek","after")}};return e.jsx(St.Provider,{value:m,children:t.children})}function Et(){var e=g.useContext(St);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}var Lt=g.createContext(void 0);function Rt(t){if(!Ee(t.initialProps)){return e.jsx(Lt.Provider,{value:{selected:void 0},children:t.children})}return e.jsx(It,{initialProps:t.initialProps,children:t.children})}function It(t){var n=t.initialProps,r=t.children,o={selected:n.selected,onDayClick:function(e,t,r){var o,a,s;null===(o=n.onDayClick)||void 0===o||o.call(n,e,t,r),!t.selected||n.required?null===(s=n.onSelect)||void 0===s||s.call(n,e,e,t,r):null===(a=n.onSelect)||void 0===a||a.call(n,void 0,e,t,r)}};return e.jsx(Lt.Provider,{value:o,children:r})}function At(){var e=g.useContext(Lt);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Wt(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(t){var r=e.modifiersClassNames[t];if(r)n.push(r);else if(function(e){return Object.values(ct).includes(e)}(t)){var o=e.classNames["day_".concat(t)];o&&n.push(o)}}),n}function Bt(t,n,r){var o,a,s,i=Be(),l=Et(),d=function(e,t){return Pt(e,Dt(),t)}(t,n),c=function(e,t){var n=Be(),r=At(),o=dt(),a=mt(),s=Et(),i=s.focusDayAfter,l=s.focusDayBefore,d=s.focusWeekAfter,c=s.focusWeekBefore,u=s.blur,f=s.focus,p=s.focusMonthBefore,h=s.focusMonthAfter,m=s.focusYearBefore,v=s.focusYearAfter,y=s.focusStartOfWeek,b=s.focusEndOfWeek;return{onClick:function(s){var i,l,d,c;Ee(n)?null===(i=r.onDayClick)||void 0===i||i.call(r,e,t,s):Se(n)?null===(l=o.onDayClick)||void 0===l||l.call(o,e,t,s):Fe(n)?null===(d=a.onDayClick)||void 0===d||d.call(a,e,t,s):null===(c=n.onDayClick)||void 0===c||c.call(n,e,t,s)},onFocus:function(r){var o;f(e),null===(o=n.onDayFocus)||void 0===o||o.call(n,e,t,r)},onBlur:function(r){var o;u(),null===(o=n.onDayBlur)||void 0===o||o.call(n,e,t,r)},onKeyDown:function(r){var o;switch(r.key){case"ArrowLeft":r.preventDefault(),r.stopPropagation(),"rtl"===n.dir?i():l();break;case"ArrowRight":r.preventDefault(),r.stopPropagation(),"rtl"===n.dir?l():i();break;case"ArrowDown":r.preventDefault(),r.stopPropagation(),d();break;case"ArrowUp":r.preventDefault(),r.stopPropagation(),c();break;case"PageUp":r.preventDefault(),r.stopPropagation(),r.shiftKey?m():p();break;case"PageDown":r.preventDefault(),r.stopPropagation(),r.shiftKey?v():h();break;case"Home":r.preventDefault(),r.stopPropagation(),y();break;case"End":r.preventDefault(),r.stopPropagation(),b()}null===(o=n.onDayKeyDown)||void 0===o||o.call(n,e,t,r)},onKeyUp:function(r){var o;null===(o=n.onDayKeyUp)||void 0===o||o.call(n,e,t,r)},onMouseEnter:function(r){var o;null===(o=n.onDayMouseEnter)||void 0===o||o.call(n,e,t,r)},onMouseLeave:function(r){var o;null===(o=n.onDayMouseLeave)||void 0===o||o.call(n,e,t,r)},onPointerEnter:function(r){var o;null===(o=n.onDayPointerEnter)||void 0===o||o.call(n,e,t,r)},onPointerLeave:function(r){var o;null===(o=n.onDayPointerLeave)||void 0===o||o.call(n,e,t,r)},onTouchCancel:function(r){var o;null===(o=n.onDayTouchCancel)||void 0===o||o.call(n,e,t,r)},onTouchEnd:function(r){var o;null===(o=n.onDayTouchEnd)||void 0===o||o.call(n,e,t,r)},onTouchMove:function(r){var o;null===(o=n.onDayTouchMove)||void 0===o||o.call(n,e,t,r)},onTouchStart:function(r){var o;null===(o=n.onDayTouchStart)||void 0===o||o.call(n,e,t,r)}}}(t,d),u=function(){var e=Be(),t=At(),n=dt(),r=mt();return Ee(e)?t.selected:Se(e)?n.selected:Fe(e)?r.selected:void 0}(),f=Boolean(i.onDayClick||"default"!==i.mode);g.useEffect(function(){var e;d.outside||l.focusedDay&&f&&me(l.focusedDay,t)&&(null===(e=r.current)||void 0===e||e.focus())},[l.focusedDay,t,r,f,d.outside]);var p=Wt(i,d).join(" "),h=function(e,t){var n=Pe({},e.styles.day);return Object.keys(t).forEach(function(t){var r;n=Pe(Pe({},n),null===(r=e.modifiersStyles)||void 0===r?void 0:r[t])}),n}(i,d),m=Boolean(d.outside&&!i.showOutsideDays||d.hidden),v=null!==(s=null===(a=i.components)||void 0===a?void 0:a.DayContent)&&void 0!==s?s:at,y={style:h,className:p,children:e.jsx(v,{date:t,displayMonth:n,activeModifiers:d}),role:"gridcell"},b=l.focusTarget&&me(l.focusTarget,t)&&!d.outside,x=l.focusedDay&&me(l.focusedDay,t),j=Pe(Pe(Pe({},y),((o={disabled:d.disabled,role:"gridcell"})["aria-selected"]=d.selected,o.tabIndex=x||b?0:-1,o)),c);return{isButton:f,isHidden:m,activeModifiers:d,selectedDays:u,buttonProps:j,divProps:y}}function qt(t){var n=g.useRef(null),r=Bt(t.date,t.displayMonth,n);return r.isHidden?e.jsx("div",{role:"gridcell"}):r.isButton?e.jsx(Qe,Pe({name:"day",ref:n},r.buttonProps)):e.jsx("div",Pe({},r.divProps))}function Tt(t){var n=t.number,r=t.dates,o=Be(),a=o.onWeekNumberClick,s=o.styles,i=o.classNames,l=o.locale,d=o.labels.labelWeekNumber,c=(0,o.formatters.formatWeekNumber)(Number(n),{locale:l});if(!a)return e.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:c});var u=d(Number(n),{locale:l});return e.jsx(Qe,{name:"week-number","aria-label":u,className:i.weeknumber,style:s.weeknumber,onClick:function(e){a(n,r,e)},children:c})}function Yt(t){var n,r,o,a=Be(),s=a.styles,i=a.classNames,l=a.showWeekNumber,d=a.components,c=null!==(n=null==d?void 0:d.Day)&&void 0!==n?n:qt,u=null!==(r=null==d?void 0:d.WeekNumber)&&void 0!==r?r:Tt;return l&&(o=e.jsx("td",{className:i.cell,style:s.cell,children:e.jsx(u,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:i.row,style:s.row,children:[o,t.dates.map(function(n){return e.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:e.jsx(c,{displayMonth:t.displayMonth,date:n})},function(e){return Math.trunc(+I(e)/1e3)}(n))})]})}function Ht(e,t,n){for(var r=(null==n?void 0:n.ISOWeek)?ge(t):xe(t,n),o=(null==n?void 0:n.ISOWeek)?Z(e):q(e,n),a=z(r,o),s=[],i=0;i<=a;i++)s.push(W(o,i));return s.reduce(function(e,t){var r=(null==n?void 0:n.ISOWeek)?$(t):G(t,n),o=e.find(function(e){return e.weekNumber===r});return o?(o.dates.push(t),e):(e.push({weekNumber:r,dates:[t]}),e)},[])}function zt(t){var n,r,o,a=Be(),s=a.locale,i=a.classNames,l=a.styles,d=a.hideHead,c=a.fixedWeeks,u=a.components,f=a.weekStartsOn,p=a.firstWeekContainsDate,h=a.ISOWeek,m=function(e,t){var n=Ht(be(e),ye(e),t);if(null==t?void 0:t.useFixedWeeks){var r=je(e,t);if(r<6){var o=n[n.length-1],a=o.dates[o.dates.length-1],s=pe(a,6-r),i=Ht(pe(a,1),s,t);n.push.apply(n,i)}}return n}(t.displayMonth,{useFixedWeeks:Boolean(c),ISOWeek:h,locale:s,weekStartsOn:f,firstWeekContainsDate:p}),v=null!==(n=null==u?void 0:u.Head)&&void 0!==n?n:ot,y=null!==(r=null==u?void 0:u.Row)&&void 0!==r?r:Yt,b=null!==(o=null==u?void 0:u.Footer)&&void 0!==o?o:nt;return e.jsxs("table",{id:t.id,className:i.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!d&&e.jsx(v,{}),e.jsx("tbody",{className:i.tbody,style:l.tbody,children:m.map(function(n){return e.jsx(y,{displayMonth:t.displayMonth,dates:n.dates,weekNumber:n.weekNumber},n.weekNumber)})}),e.jsx(b,{displayMonth:t.displayMonth})]})}var Kt="undefined"!=typeof window&&window.document&&window.document.createElement?g.useLayoutEffect:g.useEffect,Ut=!1,Zt=0;function $t(){return"react-day-picker-".concat(++Zt)}function Gt(t){var n,r,o=Be(),a=o.dir,s=o.classNames,i=o.styles,l=o.components,d=$e().displayMonths,c=function(e){var t,n=null!=e?e:Ut?$t():null,r=g.useState(n),o=r[0],a=r[1];return Kt(function(){null===o&&a($t())},[]),g.useEffect(function(){!1===Ut&&(Ut=!0)},[]),null!==(t=null!=e?e:o)&&void 0!==t?t:void 0}(o.id?"".concat(o.id,"-").concat(t.displayIndex):void 0),u=o.id?"".concat(o.id,"-grid-").concat(t.displayIndex):void 0,f=[s.month],p=i.month,h=0===t.displayIndex,m=t.displayIndex===d.length-1,v=!h&&!m;"rtl"===a&&(m=(n=[h,m])[0],h=n[1]),h&&(f.push(s.caption_start),p=Pe(Pe({},p),i.caption_start)),m&&(f.push(s.caption_end),p=Pe(Pe({},p),i.caption_end)),v&&(f.push(s.caption_between),p=Pe(Pe({},p),i.caption_between));var y=null!==(r=null==l?void 0:l.Caption)&&void 0!==r?r:tt;return e.jsxs("div",{className:f.join(" "),style:p,children:[e.jsx(y,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(zt,{id:u,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function Jt(t){var n=Be(),r=n.classNames,o=n.styles;return e.jsx("div",{className:r.months,style:o.months,children:t.children})}function Vt(t){var n,r,o=t.initialProps,a=Be(),s=Et(),i=$e(),l=g.useState(!1),d=l[0],c=l[1];g.useEffect(function(){a.initialFocus&&s.focusTarget&&(d||(s.focus(s.focusTarget),c(!0)))},[a.initialFocus,d,s.focus,s.focusTarget,s]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=Pe(Pe({},a.styles.root),a.style),p=Object.keys(o).filter(function(e){return e.startsWith("data-")}).reduce(function(e,t){var n;return Pe(Pe({},e),((n={})[t]=o[t],n))},{}),h=null!==(r=null===(n=o.components)||void 0===n?void 0:n.Months)&&void 0!==r?r:Jt;return e.jsx("div",Pe({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:o.nonce,title:o.title,lang:o.lang},p,{children:e.jsx(h,{children:i.displayMonths.map(function(t,n){return e.jsx(Gt,{displayIndex:n,displayMonth:t},n)})})}))}function Qt(t){var n=t.children,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["children"]);return e.jsx(We,{initialProps:r,children:e.jsx(Ze,{children:e.jsx(Rt,{initialProps:r,children:e.jsx(it,{initialProps:r,children:e.jsx(pt,{initialProps:r,children:e.jsx(Mt,{children:e.jsx(Ft,{children:n})})})})})})})}function Xt(t){return e.jsx(Qt,Pe({},t,{children:e.jsx(Vt,{initialProps:t})}))}function en({className:t,classNames:n,showOutsideDays:r=!0,...o}){return e.jsx(Xt,{showOutsideDays:r,className:w("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:w(_({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:w(_({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...n},components:{IconLeft:({className:t,...n})=>e.jsx(le,{className:w("h-4 w-4",t),...n}),IconRight:({className:t,...n})=>e.jsx(de,{className:w("h-4 w-4",t),...n})},...o})}en.displayName="Calendar";var tn="Popover",[nn,rn]=t(tn,[n]),on=n(),[an,sn]=nn(tn),ln=t=>{const{__scopePopover:n,children:r,open:o,defaultOpen:a,onOpenChange:s,modal:i=!1}=t,l=on(n),d=g.useRef(null),[c,u]=g.useState(!1),[f=!1,p]=m({prop:o,defaultProp:a,onChange:s});return e.jsx(v,{...l,children:e.jsx(an,{scope:n,contentId:y(),triggerRef:d,open:f,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(e=>!e),[p]),hasCustomAnchor:c,onCustomAnchorAdd:g.useCallback(()=>u(!0),[]),onCustomAnchorRemove:g.useCallback(()=>u(!1),[]),modal:i,children:r})})};ln.displayName=tn;var dn="PopoverAnchor";g.forwardRef((t,n)=>{const{__scopePopover:o,...a}=t,s=sn(dn,o),i=on(o),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=s;return g.useEffect(()=>(l(),()=>d()),[l,d]),e.jsx(r,{...i,...a,ref:n})}).displayName=dn;var cn="PopoverTrigger",un=g.forwardRef((t,n)=>{const{__scopePopover:i,...l}=t,d=sn(cn,i),c=on(i),u=o(n,d.triggerRef),f=e.jsx(a.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":_n(d.open),...l,ref:u,onClick:s(t.onClick,d.onOpenToggle)});return d.hasCustomAnchor?f:e.jsx(r,{asChild:!0,...c,children:f})});un.displayName=cn;var fn="PopoverPortal",[pn,hn]=nn(fn,{forceMount:void 0}),mn=t=>{const{__scopePopover:n,forceMount:r,children:o,container:a}=t,s=sn(fn,n);return e.jsx(pn,{scope:n,forceMount:r,children:e.jsx(i,{present:r||s.open,children:e.jsx(b,{asChild:!0,container:a,children:o})})})};mn.displayName=fn;var vn="PopoverContent",yn=g.forwardRef((t,n)=>{const r=hn(vn,t.__scopePopover),{forceMount:o=r.forceMount,...a}=t,s=sn(vn,t.__scopePopover);return e.jsx(i,{present:o||s.open,children:s.modal?e.jsx(xn,{...a,ref:n}):e.jsx(gn,{...a,ref:n})})});yn.displayName=vn;var bn=x("PopoverContent.RemoveScroll"),xn=g.forwardRef((t,n)=>{const r=sn(vn,t.__scopePopover),a=g.useRef(null),i=o(n,a),c=g.useRef(!1);return g.useEffect(()=>{const e=a.current;if(e)return l(e)},[]),e.jsx(d,{as:bn,allowPinchZoom:!0,children:e.jsx(jn,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:s(t.onCloseAutoFocus,e=>{var t;e.preventDefault(),c.current||null==(t=r.triggerRef.current)||t.focus()}),onPointerDownOutside:s(t.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;c.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:s(t.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),gn=g.forwardRef((t,n)=>{const r=sn(vn,t.__scopePopover),o=g.useRef(!1),a=g.useRef(!1);return e.jsx(jn,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{var n,s;null==(n=t.onCloseAutoFocus)||n.call(t,e),e.defaultPrevented||(o.current||null==(s=r.triggerRef.current)||s.focus(),e.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:e=>{var n,s;null==(n=t.onInteractOutside)||n.call(t,e),e.defaultPrevented||(o.current=!0,"pointerdown"===e.detail.originalEvent.type&&(a.current=!0));const i=e.target;(null==(s=r.triggerRef.current)?void 0:s.contains(i))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&a.current&&e.preventDefault()}})}),jn=g.forwardRef((t,n)=>{const{__scopePopover:r,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,...v}=t,y=sn(vn,r),b=on(r);return c(),e.jsx(u,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:s,children:e.jsx(f,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:m,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1),children:e.jsx(p,{"data-state":_n(y.open),role:"dialog",id:y.contentId,...b,...v,ref:n,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),wn="PopoverClose";g.forwardRef((t,n)=>{const{__scopePopover:r,...o}=t,i=sn(wn,r);return e.jsx(a.button,{type:"button",...o,ref:n,onClick:s(t.onClick,()=>i.onOpenChange(!1))})}).displayName=wn;function _n(e){return e?"open":"closed"}g.forwardRef((t,n)=>{const{__scopePopover:r,...o}=t,a=on(r);return e.jsx(h,{...a,...o,ref:n})}).displayName="PopoverArrow";var Nn=mn,kn=yn;const Mn=ln,Dn=un,Cn=g.forwardRef(({className:t,align:n="center",sideOffset:r=4,...o},a)=>e.jsx(Nn,{children:e.jsx(kn,{ref:a,align:n,sideOffset:r,className:w("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...o})}));Cn.displayName=kn.displayName;const Pn=14;function On(){const[,t]=N(),{showNotification:n,NotificationComponent:r}=ae(),[o,a]=g.useState([]),[s,i]=g.useState([]),[l,d]=g.useState(0),[c,u]=g.useState(!1),[f,p]=g.useState(null),[h,m]=g.useState(null),[v,y]=g.useState(!1),[b,x]=g.useState(""),[j,_]=g.useState(""),[I,A]=g.useState(""),[B,q]=g.useState({id_buku:0,employee_nik:"",borrower_name:"",borrower_email:"",borrower_phone:"",requested_return_date:void 0,reason:""}),T=g.useMemo(()=>{const e=new Date;return e.setHours(0,0,0,0),e},[]),Y=g.useMemo(()=>W(T,Pn),[T]);g.useEffect(()=>{const e=setTimeout(()=>{A(j.trim())},300);return()=>clearTimeout(e)},[j]),g.useEffect(()=>{const e=new AbortController;return(async()=>{try{u(!0);const t=new URLSearchParams({available:"true",limit:20..toString()});I&&t.set("search",I);const n=await fetch(`/api/books?${t.toString()}`,{signal:e.signal});if(n.ok){const e=await n.json();a(e.books||[]),d(e.total??(e.books?e.books.length:0))}}catch(t){null==t||t.name}finally{u(!1)}})(),()=>{e.abort()}},[I]),g.useEffect(()=>{(async()=>{try{let e=await fetch("/api/staff");if(e.ok){const t=await e.json(),n=(t.staff||t).map(e=>({id:e.id_staff||e.id,nik:e.nik,name:e.staff_name||e.name,email:e.email,phone:e.phone,department:e.department,position:e.position||e.job_title}));return void i(n)}if(e=await fetch("/api/employees"),e.ok){const t=await e.json();i(t)}}catch(e){}})()},[]);const H=o;return g.useEffect(()=>{f&&!H.some(e=>e.id_buku===f.id_buku)&&(p(null),q(e=>({...e,id_buku:0})))},[H,f]),g.useEffect(()=>{B.requested_return_date&&B.requested_return_date>Y&&q(e=>({...e,requested_return_date:Y}))},[B.requested_return_date,Y]),e.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Request Book Loan"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Fill out the form below to request a book loan"})]}),b&&e.jsx(Q,{className:"mb-6 border-red-200 bg-red-50",children:e.jsx(X,{className:"text-red-800",children:b})}),e.jsx(r,{}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),x("");try{if(!B.id_buku||!B.employee_nik||!B.borrower_name)throw new Error("Please fill in all required fields");if(!B.requested_return_date)throw new Error("Please select a requested return date");if(B.requested_return_date>Y)throw new Error("Requested return date must be within 14 days from today");const e=await fetch("/api/loan-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...B,requested_return_date:J(B.requested_return_date,"yyyy-MM-dd")})});if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to submit loan request")}const r=await e.json();n({title:"Loan Request Submitted!",description:`Your loan request has been submitted successfully. Request ID: ${r.request_id}. Reminder: the maximum loan period is 14 days from approval.`,type:"success",duration:5e3}),q({id_buku:0,employee_nik:"",borrower_name:"",borrower_email:"",borrower_phone:"",requested_return_date:void 0,reason:""}),p(null),m(null),setTimeout(()=>{t("/loans")},3e3)}catch(r){x(r.message)}finally{y(!1)}},className:"space-y-6",children:[e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"Select Book"]}),e.jsx(L,{children:"Choose the book you want to borrow"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(O,{htmlFor:"book-search",children:"Search Books"}),e.jsx(P,{id:"book-search",placeholder:"Search by title, author, publisher, or ISBN...",value:j,onChange:e=>_(e.target.value),className:"mb-2"}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 min-h-[1.25rem]",children:[c?e.jsx("span",{children:"Searching books..."}):e.jsxs("span",{children:[H.length," match(es)",l>H.length&&` of ${l} total`]}),!c&&l>20&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing top ",20,". Refine your search for more precise matches."]})]})]}),e.jsxs("div",{children:[e.jsx(O,{htmlFor:"book-select",children:"Available Books *"}),e.jsxs(ee,{value:null==f?void 0:f.id_buku.toString(),onValueChange:e=>{const t=o.find(t=>t.id_buku===parseInt(e));t&&(p(t),q(e=>({...e,id_buku:t.id_buku})))},required:!0,children:[e.jsx(te,{className:"min-h-[3.5rem] items-start py-3 text-left [&>span]:line-clamp-2 [&>span]:whitespace-normal",children:e.jsx(ne,{placeholder:c?"Loading books...":0===H.length?j?"No books match your search":"No books currently available":"Select a book (showing up to 20)"})}),e.jsx(re,{children:H.map(t=>e.jsx(oe,{value:t.id_buku.toString(),className:"whitespace-normal leading-snug py-2",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"font-medium",children:t.title}),e.jsxs("span",{className:"text-sm text-gray-500",children:["by ",t.pengarang," ‚Ä¢ ISBN: ",t.isbn]})]})},t.id_buku))})]})]}),f&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-900",children:f.title}),e.jsxs("p",{className:"text-blue-700",children:["Author: ",f.pengarang," ‚Ä¢ Publisher: ",f.penerbit]}),e.jsxs("p",{className:"text-blue-600 text-sm",children:["ISBN: ",f.isbn]})]})]})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Borrower Information"]}),e.jsx(L,{children:"Enter your employee NIK to auto-fill your information"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(O,{htmlFor:"nik",children:"Employee NIK *"}),e.jsx(P,{id:"nik",placeholder:"Enter your employee NIK (e.g., 20000748)",value:B.employee_nik,onChange:e=>(async e=>{if(q(t=>({...t,employee_nik:e})),e.length>=3){let n=s.find(t=>t.nik===e);if(!n&&e.length>=4&&(n=s.find(t=>t.nik.includes(e))),n)m(n),q(e=>({...e,borrower_name:n.name,borrower_email:n.email||"",borrower_phone:n.phone||""})),x("");else if(m(null),e.length>=6)try{const t=await fetch(`/api/employees/${e}`);if(t.ok){const e=await t.json();m(e),q(t=>({...t,borrower_name:e.name,borrower_email:e.email||"",borrower_phone:e.phone||""})),x("")}else q(e=>({...e,borrower_name:"",borrower_email:"",borrower_phone:""}))}catch(t){q(e=>({...e,borrower_name:"",borrower_email:"",borrower_phone:""}))}else q(e=>({...e,borrower_name:"",borrower_email:"",borrower_phone:""}))}else m(null),q(e=>({...e,borrower_name:"",borrower_email:"",borrower_phone:""}))})(e.target.value),required:!0,className:h?"border-green-500":""}),h&&e.jsxs("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["‚úì Employee found: ",h.name]}),e.jsxs("p",{className:"text-xs text-green-600",children:["Department: ",h.department," ‚Ä¢ Position: ",h.position||"Staff"]})]}),B.employee_nik.length>=3&&!h&&e.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"üîç Searching for employee... Try entering more digits if not found."}),B.employee_nik.length<3&&B.employee_nik.length>0&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter at least 3 digits to search for employee"})]}),e.jsxs("div",{children:[e.jsx(O,{htmlFor:"name",children:"Full Name *"}),e.jsx(P,{id:"name",placeholder:"Full name",value:B.borrower_name,onChange:e=>q(t=>({...t,borrower_name:e.target.value})),required:!0,disabled:!!h})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(O,{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(P,{id:"email",type:"email",placeholder:"email@company.com",className:"pl-10",value:B.borrower_email,onChange:e=>q(t=>({...t,borrower_email:e.target.value})),disabled:!!h})]})]}),e.jsxs("div",{children:[e.jsx(O,{htmlFor:"phone",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(P,{id:"phone",placeholder:"081234567890",className:"pl-10",value:B.borrower_phone,onChange:e=>q(t=>({...t,borrower_phone:e.target.value})),disabled:!!h})]})]})]}),h&&e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(se,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"font-medium text-green-900",children:["Department: ",h.department]})]}),e.jsxs("p",{className:"text-green-700 text-sm",children:["Position: ",h.position]})]})]})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Loan Details"]}),e.jsx(L,{children:"Specify your loan requirements"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsx(Q,{className:"border-amber-200 bg-amber-50",children:e.jsxs(X,{className:"text-amber-800",children:["Loan approvals are limited to ",Pn," days. Once approved, the system automatically locks the due date to ",Pn," days after approval."]})}),e.jsxs("div",{children:[e.jsx(O,{children:"Requested Return Date *"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Choose any date within the next ",Pn," days. The final due date will be fixed to ",Pn," days after approval."]}),e.jsxs(Mn,{children:[e.jsx(Dn,{asChild:!0,children:e.jsxs(C,{variant:"outline",className:w("w-full justify-start text-left font-normal",!B.requested_return_date&&"text-muted-foreground"),children:[e.jsx(ie,{className:"mr-2 h-4 w-4"}),B.requested_return_date?J(B.requested_return_date,"PPP"):e.jsx("span",{children:"Pick a date"})]})}),e.jsx(Cn,{className:"w-auto p-0",children:e.jsx(en,{mode:"single",selected:B.requested_return_date,onSelect:e=>q(t=>({...t,requested_return_date:e})),disabled:e=>e<T||e>Y,initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx(O,{htmlFor:"reason",children:"Reason for Borrowing (Optional)"}),e.jsx(Ce,{id:"reason",placeholder:"Please describe why you need this book (research, study, etc.)",value:B.reason,onChange:e=>q(t=>({...t,reason:e.target.value})),rows:3})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(C,{type:"submit",disabled:v||!B.id_buku||!B.employee_nik||!B.borrower_name,className:"flex-1",children:v?"Submitting...":"Submit Loan Request"}),e.jsx(C,{type:"button",variant:"outline",onClick:()=>t("/books"),children:"Cancel"})]})]})]})}export{On as default};
